(this["webpackJsonpproject-flashcards"]=this["webpackJsonpproject-flashcards"]||[]).push([[0],{36:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(19),s=c.n(a),i=c(4),d=c(13),j=c(3),o=c(7),l=c(11),b=c(20),u=c(5),h=c.n(u),O=["cards"],m=Object({NODE_ENV:"production",PUBLIC_URL:"/flashcard-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL||"http://localhost:5000",x=new Headers;function p(e){e.cards;return Object(b.a)(e,O)}function f(e,t,c){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(h.a.mark((function e(t,c,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(!((r=e.sent).status<200||r.status>399)){e.next=6;break}throw new Error("".concat(r.status," - ").concat(r.statusText));case 6:if(204!==r.status){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=18;break}throw console.error(e.t0.stack),e.t0;case 18:return e.abrupt("return",Promise.resolve(n));case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function N(){return(N=Object(l.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(m,"/decks?_embed=cards"),e.next=3,f(c,{signal:t},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(l.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks"),r={method:"POST",headers:x,body:JSON.stringify(p(t)),signal:c},e.next=4,f(n,r,{});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(h.a.mark((function e(t,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t,"?_embed=cards"),e.next=3,f(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t.id,"?_embed=cards"),r={method:"PUT",headers:x,body:JSON.stringify(p(t)),signal:c},e.next=4,f(n,r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(l.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/decks/").concat(t),r={method:"DELETE",signal:c},e.next=4,f(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(l.a)(h.a.mark((function e(t,c,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(m,"/cards"),c.deckId=Number(t),a={method:"POST",headers:x,body:JSON.stringify(c),signal:n},e.next=5,f(r,a,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(l.a)(h.a.mark((function e(t,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t),e.next=3,f(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(l.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t.id),r={method:"PUT",headers:x,body:JSON.stringify(t)},e.next=4,f(n,r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(l.a)(h.a.mark((function e(t,c){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/cards/").concat(t),r={method:"DELETE",signal:c},e.next=4,f(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x.append("Content-Type","application/json");var I=c(2),_=c(0);function A(e){var t=e.navTitles,c=e.id,n=t.map((function(e,n){return n===t.length-1?Object(_.jsx)("li",{className:"breadcrumb-item","aria-current":"page",children:e},n):Object(_.jsx)("li",{className:"breadcrumb-item",children:Object(_.jsx)(I.b,{to:"/decks/".concat(c),children:e})},n)}));return Object(_.jsx)("nav",{"aria-label":"breadcrumb",children:Object(_.jsxs)("ol",{className:"breadcrumb",children:[Object(_.jsx)("li",{className:"breadcrumb-item",children:Object(_.jsx)(I.b,{to:"/",children:"Home"})}),n]})})}function R(){var e=Object(n.useState)(Object(j.a)({},{name:"",description:""})),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(i.f)(),s=function(e){var t=e.target;r(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},t.name,t.value)))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{navTitles:["Create Deck"]}),Object(_.jsx)("div",{className:"container w-75",children:Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){return k.apply(this,arguments)}(c).then(g).then((function(e){return a.push("/decks/".concat(e.id))})).catch(console.error)},children:[Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"Name"}),Object(_.jsx)("input",{id:"name",type:"text",className:"form-control",name:"name",placeholder:"Deck Name",onChange:s,value:c.name})]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"description",children:"Description"}),Object(_.jsx)("textarea",{id:"description",type:"text",className:"form-control",name:"description",placeholder:"Brief description of the deck",onChange:s,value:c.description})]}),Object(_.jsx)("button",{type:"button",className:"btn btn-secondary m-2",onClick:function(){return a.push("/")},children:"Cancel"}),Object(_.jsx)("button",{type:"submit",className:"btn btn-primary m-2",children:"Submit"})]})})]})}function P(e){var t=e.deck,c=e.card,n=e.setCard,r=e.handleSubmit,a=Object(i.f)();return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container w-75",children:Object(_.jsxs)("form",{onSubmit:r,children:[Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"front",children:"Front"}),Object(_.jsx)("textarea",{id:"front",type:"text",className:"form-control",name:"front",placeholder:"Front side of card",onChange:function(e){n(Object(j.a)(Object(j.a)({},c),{},{front:e.target.value}))},value:c.front})]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"back",children:"Back"}),Object(_.jsx)("textarea",{id:"back",type:"text",className:"form-control",name:"back",placeholder:"Back side of card",onChange:function(e){n(Object(j.a)(Object(j.a)({},c),{},{back:e.target.value}))},value:c.back})]}),Object(_.jsx)("button",{type:"button",className:"btn btn-secondary m-2",onClick:function(){return a.push("/decks/".concat(t.id))},children:"Done"}),Object(_.jsx)("button",{type:"submit",className:"btn btn-primary m-2",children:"Save"})]})})})}function B(e){var t=e.deck,c=e.setCards,r={front:"",back:""},a=Object(n.useState)(Object(j.a)({},r)),s=Object(o.a)(a,2),i=s[0],d=s[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{id:t.id,navTitles:[t.name,"Add Card"]}),Object(_.jsx)(P,{deck:t,card:i,setCard:d,handleSubmit:function(e){e.preventDefault(),function(e,t,c){return E.apply(this,arguments)}(t.id,i).then((function(){return y(t.id)})).then((function(e){return c(e.cards)})).then(d(Object(j.a)({},r)))}})]})}function L(e){var t=e.error,c=e.children;return Object(_.jsxs)("main",{className:"container",children:[Object(_.jsxs)("p",{style:{color:"red"},children:["ERROR: ",t.message]}),c]})}function J(){return Object(_.jsx)("div",{className:"LoadingMessage",children:Object(_.jsx)("h1",{children:"Loading"})})}function H(e){var t=e.deck,c=e.setCards,r=Object(i.g)().cardId,a=Object(n.useState)({}),s=Object(o.a)(a,2),d=s[0],j=s[1],l=Object(n.useState)(void 0),b=Object(o.a)(l,2),u=b[0],h=b[1],O=Object(i.f)();Object(n.useEffect)((function(){var e=new AbortController;return function(e,t){return F.apply(this,arguments)}(r,e.signal).then(j).catch(h),function(){return e.abort()}}),[r]);return u?Object(_.jsx)(L,{error:u}):d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{id:t.id,navTitles:[t.name,"Edit Card ".concat(r)]}),Object(_.jsx)(P,{deck:t,card:d,setCard:j,handleSubmit:function(e){e.preventDefault(),function(e,t){return T.apply(this,arguments)}(d).then((function(){return y(t.id)})).then((function(e){return c(e.cards)})).then((function(){return O.push("/decks/".concat(t.id))}))}})]}):Object(_.jsx)(J,{})}function U(){return Object(_.jsx)("div",{className:"NotFound",children:Object(_.jsx)("h1",{children:"Not Found"})})}function K(e){var t=e.deck,c=e.setCards,n=Object(i.h)().url;return Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{path:"".concat(n,"/:cardId/edit"),children:Object(_.jsx)(H,{deck:t,setCards:c})}),Object(_.jsx)(i.a,{path:"".concat(n,"/new"),children:Object(_.jsx)(B,{deck:t,setCards:c})}),Object(_.jsx)(U,{})]})}function W(e){var t=e.deckId,c=e.cardId;return"deck"===e.type?Object(_.jsx)("button",{className:"btn btn-secondary mx-1",style:{width:"7rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/".concat(t,"/edit"),className:"text-white",children:"Edit"})}):Object(_.jsx)("button",{className:"btn btn-secondary mx-1",style:{width:"7rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/".concat(t,"/cards/").concat(c,"/edit"),className:"text-white",children:"Edit"})})}function M(e){var t=e.id,c=e.type,n=Object(i.f)();return Object(_.jsx)("button",{className:"btn btn-danger float-right mx-1",style:{width:"7rem"},type:"delete",onClick:function(){window.confirm("Delete this ".concat(c,"\n\nYou will not be able to recover it"))&&("deck"===c?function(e,t){return S.apply(this,arguments)}(t).then(n.push("/")):function(e,t){D.apply(this,arguments)}(t)),n.go()},children:"Delete"})}function V(e){var t=e.card,c=e.deckId;return Object(_.jsx)("div",{className:"col-6 d-flex align-items-stretch",children:Object(_.jsxs)("div",{className:"card m-2",style:{width:"33rem"},children:[Object(_.jsxs)("div",{className:"card-body row",children:[Object(_.jsxs)("div",{className:"col",children:[Object(_.jsx)("h4",{className:"card-title",children:"Front"}),Object(_.jsx)("p",{className:"card-text",children:t.front})]}),Object(_.jsxs)("div",{className:"col",children:[Object(_.jsx)("h4",{className:"card-title",children:"Back"}),Object(_.jsx)("p",{className:"card-text",children:t.back})]})]}),Object(_.jsx)("div",{className:"card-footer",children:Object(_.jsxs)("div",{className:"btn-wrapper",children:[Object(_.jsx)(W,{cardId:t.id,deckId:c,type:"card"}),Object(_.jsx)(M,{id:t.id,type:"card"})]})})]})},t.id)}function Y(e){var t=e.deckId;return"deck"===e.type?Object(_.jsx)("div",{className:"text-right",children:Object(_.jsx)("button",{className:"btn btn-secondary",style:{width:"12rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/new",className:"text-white",children:"Create Deck"})})}):Object(_.jsx)("button",{className:"btn btn-primary mx-1",style:{width:"7rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/".concat(t,"/cards/new"),className:"text-white",children:"Add Cards"})})}function q(e){var t=e.id;return Object(_.jsx)("button",{className:"btn btn-primary mx-1",style:{width:"7rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/".concat(t,"/study"),className:"text-white",children:"Study"})})}function z(e){var t=e.deck,c=e.cards.map((function(e){return Object(_.jsx)(V,{card:e,deckId:t.id},e.id)}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{id:t.id,navTitles:[t.name]}),Object(_.jsxs)("div",{className:"card",children:[Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsx)("h3",{className:"card-title",children:t.name}),Object(_.jsx)("p",{className:"card-text",children:t.description})]}),Object(_.jsx)("div",{className:"card-footer",children:Object(_.jsxs)("div",{className:"btn-wrapper text-left",children:[Object(_.jsx)(W,{deckId:t.id,type:"deck"}),Object(_.jsx)(q,{id:t.id}),Object(_.jsx)(Y,{deckId:t.id,type:"card"}),Object(_.jsx)(M,{id:t.id,type:"deck"})]})})]}),Object(_.jsx)("h2",{className:"mb-2 mt-4 ml-2",children:"Cards"}),Object(_.jsx)("div",{className:"row",children:c}),";"]})}function G(e){var t=e.deck,c=e.setDeck,r=Object(n.useState)(Object(j.a)({},t)),a=Object(o.a)(r,2),s=a[0],l=a[1],b=Object(i.f)(),u=function(e){var t=e.target;l(Object(j.a)(Object(j.a)({},s),{},Object(d.a)({},t.name,t.value)))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{id:t.id,navTitles:[t.name,"Edit Deck"]}),Object(_.jsx)("div",{className:"container w-75",children:Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(s).then(c).then((function(){return b.push("/decks/".concat(t.id))}))},children:[Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"name",children:"Name"}),Object(_.jsx)("input",{id:"name",type:"text",className:"form-control",name:"name",onChange:u,value:s.name})]}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:"description",children:"Description"}),Object(_.jsx)("textarea",{id:"description",type:"text",className:"form-control",name:"description",onChange:u,value:s.description})]}),Object(_.jsx)("button",{type:"button",className:"btn btn-secondary m-2",onClick:function(){return b.push("/")},children:"Cancel"}),Object(_.jsx)("button",{type:"submit",className:"btn btn-primary m-2",children:"Submit"})]})})]})}function Q(e){var t=e.numCards,c=e.deckId;return Object(_.jsxs)("div",{className:"container text-center",children:[Object(_.jsx)("h3",{children:"Not enough cards."}),Object(_.jsxs)("p",{children:["You need at least 3 cards to study. There are ",t," cards in this deck."]}),Object(_.jsx)(Y,{deckId:c,type:"card"})]})}function X(e){var t=e.cards,c={index:0,flipped:!1,viewed:!1},r=Object(n.useState)(Object(j.a)({},c)),a=Object(o.a)(r,2),s=a[0],d=a[1],l=Object(i.f)();return Object(_.jsx)("div",{className:"card-deck justify-content-center text-center mt-4",children:Object(_.jsx)("div",{className:"w-75",children:Object(_.jsxs)("div",{className:"card",children:[Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsxs)("h4",{className:"card-title",children:["Card ",s.index+1," of ",t.length]}),Object(_.jsx)("p",{className:"card-text",children:s.flipped?t[s.index].back:t[s.index].front})]}),Object(_.jsx)("div",{className:"card-footer",children:Object(_.jsxs)("div",{className:"btn-wrapper",children:[Object(_.jsx)("button",{className:"btn btn-secondary mx-1 float-left",style:{width:"5rem"},onClick:function(e){d(Object(j.a)(Object(j.a)({},s),{},{flipped:!s.flipped,viewed:!0}))},children:"Flip"}),s.viewed&&s.index<t.length-1?Object(_.jsx)("button",{className:"btn btn-primary mx-1 float-right",style:{width:"5rem"},onClick:function(){d(Object(j.a)(Object(j.a)({},s),{},{index:s.index+1,flipped:!1,viewed:!1}))},children:"Next"}):s.viewed&&Object(_.jsx)("button",{className:"btn btn-primary mx-1 float-right",style:{width:"5rem"},onClick:function(){window.confirm('Restart cards?\n\nClick "cancel" to return to the homepage')?d(c):l.push("/")},children:"Reset"})]})})]})})})}function Z(e){var t=e.deck,c=e.cards;return c.length<3?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h2",{className:"text-center",children:["Study: ",t.name]}),Object(_.jsx)(Q,{numCards:c.length,deckId:t.id})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{id:t.id,navTitles:[t.name,"Study"]}),Object(_.jsxs)("h2",{className:"text-center",children:["Study: ",t.name]}),Object(_.jsx)(X,{deckId:t.id,cards:c})]})}function $(){var e=Object(i.h)(),t=e.url,c=e.params.deckId,r=Object(n.useState)({}),a=Object(o.a)(r,2),s=a[0],d=a[1],j=Object(n.useState)([]),l=Object(o.a)(j,2),b=l[0],u=l[1],h=Object(n.useState)(void 0),O=Object(o.a)(h,2),m=O[0],x=O[1];return Object(n.useEffect)((function(){var e=new AbortController;return y(c,e.signal).then((function(e){d(e),u(e.cards)})).catch(x),function(){return e.abort()}}),[c,d]),m?Object(_.jsx)(L,{error:m}):s&&b?Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{path:"".concat(t,"/study"),children:Object(_.jsx)(Z,{deck:s,cards:b})}),Object(_.jsx)(i.a,{path:"".concat(t,"/edit"),children:Object(_.jsx)(G,{deck:s,setDeck:d})}),Object(_.jsx)(i.a,{path:"".concat(t,"/cards"),children:Object(_.jsx)(K,{deck:s,setCards:u})}),Object(_.jsx)(i.a,{exact:!0,path:t,children:Object(_.jsx)(z,{deck:s,cards:b})})]}):Object(_.jsx)(J,{})}function ee(e){var t=e.id;return Object(_.jsx)("button",{className:"btn btn-secondary mx-1",style:{width:"7rem"},type:"button",children:Object(_.jsx)(I.b,{to:"/decks/".concat(t),className:"text-white",children:"View"})})}function te(e){var t=e.deck;return Object(_.jsx)("div",{className:"col-6 d-flex align-items-stretch",children:Object(_.jsxs)("div",{className:"card m-2",style:{width:"33rem"},children:[Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsx)("h6",{className:"card-subtitle mb-2 text-muted float-right",children:t.cards.length}),Object(_.jsx)("h5",{className:"card-title",children:t.name}),Object(_.jsx)("p",{className:"card-text",children:t.description})]}),Object(_.jsx)("div",{className:"card-footer",children:Object(_.jsxs)("div",{className:"btn-wrapper",children:[Object(_.jsx)(ee,{id:t.id}),Object(_.jsx)(q,{id:t.id}),Object(_.jsx)(M,{id:t.id,type:"deck"})]})})]})},t.id)}function ce(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(void 0),s=Object(o.a)(a,2),i=s[0],d=s[1];Object(n.useEffect)((function(){var e=new AbortController;return function(e){return N.apply(this,arguments)}(e.signal).then(r).catch(d),function(){return e.abort()}}),[]);var j=c.map((function(e){return Object(_.jsx)(te,{deck:e},e.id)}));return i?Object(_.jsx)(L,{error:i}):c?Object(_.jsxs)("main",{children:[Object(_.jsx)(Y,{type:"deck"}),Object(_.jsx)("div",{className:"row",children:j})]}):Object(_.jsx)(J,{})}var ne=function(){return Object(_.jsx)("header",{className:"jumbotron bg-dark",children:Object(_.jsxs)("div",{className:"container text-white",children:[Object(_.jsx)("h1",{className:"display-4",children:"Flashcard-o-matic"}),Object(_.jsx)("p",{className:"lead",children:"Discover The Flashcard Difference."})]})})};function re(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ne,{}),Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{exact:!0,path:"/",children:Object(_.jsx)(ce,{})}),Object(_.jsx)(i.a,{exact:!0,path:"/decks/new",children:Object(_.jsx)(R,{})}),Object(_.jsx)(i.a,{path:"/decks/:deckId",children:Object(_.jsx)($,{})}),Object(_.jsx)(U,{})]})})]})}var ae=function(){return Object(_.jsx)("div",{className:"app-routes",children:Object(_.jsx)(re,{})})};s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(I.a,{children:Object(_.jsx)(ae,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d33335d8.chunk.js.map